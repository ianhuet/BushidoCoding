// One shared date
// let dateSet = [
//   [ '2017-06-06', '2017-06-10', '2017-06-11', '2017-06-15', '2017-06-16', '2017-06-17', '2017-06-29' ],
//   [ '2017-06-10', '2017-06-11', '2017-06-17', '2017-06-29' ],
//   [ '2017-06-06', '2017-06-08', '2017-06-15', '2017-06-17', '2017-06-29' ],
//   [ '2017-06-08', '2017-06-10', '2017-06-15', '2017-06-21', '2017-06-27', '2017-06-29' ],
//   [ '2017-06-09', '2017-06-12', '2017-06-15', '2017-06-20', '2017-06-21', '2017-06-24', '2017-06-29' ],
//   [ '2017-06-09', '2017-06-24', '2017-06-25', '2017-06-29' ],
//   [ '2017-06-06', '2017-06-09', '2017-06-10', '2017-06-17', '2017-06-20', '2017-06-24', '2017-06-29' ],
//   [ '2017-06-10', '2017-06-11', '2017-06-13', '2017-06-15', '2017-06-24', '2017-06-29' ]
// ];


let dateSet = [
  [ '2017-06-14','2017-06-16','2017-06-18','2017-06-19','2017-06-22','2017-06-23','2017-06-24','2017-06-28' ],
  [ '2017-06-12','2017-06-14','2017-06-18','2017-06-19','2017-06-22','2017-06-23','2017-06-24','2017-06-26' ],
  [ '2017-06-14','2017-06-18','2017-06-19','2017-06-22','2017-06-23','2017-06-28' ],
  [ '2017-06-14','2017-06-18','2017-06-19','2017-06-21','2017-06-22','2017-06-23','2017-06-26','2017-06-29','2017-07-01' ],
  [ '2017-06-14','2017-06-17','2017-06-18','2017-06-19','2017-06-20','2017-06-22','2017-06-23','2017-06-27','2017-06-28','2017-06-29' ],
  [ '2017-06-12','2017-06-16','2017-06-18','2017-06-19','2017-06-20','2017-06-22','2017-06-23','2017-06-24','2017-06-25','2017-06-28' ],
  [ '2017-06-16','2017-06-18','2017-06-19','2017-06-21','2017-06-22','2017-06-23','2017-06-25','2017-06-28','2017-06-29','2017-07-05','2017-07-06' ],
  [ '2017-06-12','2017-06-18','2017-06-19','2017-06-20','2017-06-22','2017-06-23','2017-06-26','2017-06-29' ],
  [ '2017-06-12','2017-06-15','2017-06-18','2017-06-19','2017-06-20','2017-06-21','2017-06-22','2017-06-23','2017-06-26','2017-06-28' ],
  [ '2017-06-18','2017-06-19','2017-06-22','2017-06-23','2017-06-25','2017-06-26','2017-06-29','2017-07-06' ],
  [ '2017-06-18','2017-06-19','2017-06-20','2017-06-22','2017-06-23','2017-06-25','2017-06-26','2017-06-27','2017-06-29','2017-07-01' ],
  [ '2017-06-16','2017-06-18','2017-06-19','2017-06-21','2017-06-22','2017-06-23','2017-06-25','2017-06-27','2017-06-29' ],
  [ '2017-06-18','2017-06-19','2017-06-22','2017-06-23','2017-06-25','2017-06-26','2017-06-29' ],
  [ '2017-06-18','2017-06-19','2017-06-20','2017-06-22','2017-06-23','2017-06-25','2017-07-03' ],
  [ '2017-06-12','2017-06-14','2017-06-16','2017-06-18','2017-06-19','2017-06-22','2017-06-23','2017-06-25','2017-06-26' ],
  [ '2017-06-12','2017-06-14','2017-06-15','2017-06-18','2017-06-19','2017-06-20','2017-06-22','2017-06-23','2017-06-25','2017-06-28','2017-06-29' ],
  [ '2017-06-12','2017-06-14','2017-06-16','2017-06-20','2017-06-21','2017-06-25','2017-06-27','2017-06-29' ],
  [ '2017-06-12','2017-06-14','2017-06-26','2017-06-29','2017-07-01' ],
  [ '2017-06-12','2017-06-14','2017-06-20','2017-06-21','2017-06-26','2017-06-28' ],
  [ '2017-06-12','2017-06-16','2017-06-17','2017-06-20','2017-06-26' ],
  [ '2017-06-12','2017-06-14','2017-06-20','2017-06-29' ],
  [ '2017-06-21','2017-06-25','2017-06-26','2017-06-28','2017-07-01','2017-07-04' ],
  [ '2017-06-14','2017-06-16' ],
  [ '2017-06-16','2017-06-20','2017-06-21','2017-06-25','2017-06-26','2017-06-28','2017-06-29' ],
  [ '2017-06-12','2017-06-24','2017-06-28','2017-07-01' ],
  [ '2017-06-12','2017-06-21','2017-06-25','2017-06-26','2017-06-28' ]
];


let d, c;
let r = new Map();
for(var x=1; x<=31; x++) {
  d = "2017-06-";
  d += (x < 10) ? '0'.x : x;
  // console.log(d);

  c = 0;
  dateSet.forEach(n => {
    if(n.indexOf(d)) {
      c++;
      console.log(d, c, n.indexOf(d));
    }
  });
  r.set(x,c);
}
console.log('Map',r);




// var dates = dateSet.shift().filter(function(v) {
//     return dateSet.every(function(a) {
//         return a.indexOf(v) !== -1;
//     });
// });


// let a, b, best = {p:0, c:0};
// dateSet.forEach(function(n,i){
//   for(var x=0; x<dateSet.length; x++) {
//     if(x!=i) {
//       a = new Set(dateSet[i]);
//       b = new Set(dateSet[x]);
//       dates = new Set([...a].filter(x => b.has(x)));
//       console.log(i, x, dates.size, dates);

//       if(dates.size > best.c) {
//         best.p = x;
//         best.c = dates.size;
//       }
//     }
//   }
// });


// console.log(best);
